<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Force</title>
    <link rel="stylesheet" href="Cart.css">
    <style>
        <form action="submit_registration.php" method="post" onsubmit="return validateForm()" novalidate>
    <!-- form fields here -->
</form>

        .error-message {
            color: red;
            margin-top: 5px;
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>

    <script>
        function navigateTo(page) {
            window.location.href = page;
        }

        function validateForm() {
            var isValid = true;

            // Username validation
            var username = document.getElementById('username').value;
            var usernameRegex = /^[a-zA-Z0-9]{6,20}$/;
            if (!usernameRegex.test(username)) {
                displayErrorMessage('username', 'Username must be between 6 and 20 characters and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('username');
            }

            // Email validation
            var email = document.getElementById('email').value;
            var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                displayErrorMessage('email', 'Please enter a valid email address.');
                isValid = false;
            } else {
                clearErrorMessage('email');
            }

            // Password validation
            var password = document.getElementById('password').value;
            var passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,12}$/;
            if (!passwordRegex.test(password)) {
                displayErrorMessage('password', 'Password must be between 8 and 12 characters long and contain at least one letter and one number.');
                isValid = false;
            } else {
                clearErrorMessage('password');
            }

            // Confirm Password validation
            var confirmPassword = document.getElementById('confirmPassword').value;
            if (confirmPassword !== password) {
                displayErrorMessage('confirmPassword', 'Passwords do not match.');
                isValid = false;
            } else {
                clearErrorMessage('confirmPassword');
            }

            // First Name validation
            var firstName = document.getElementById('firstName').value;
            var nameRegex = /^[a-zA-Z]{3,20}$/;
            if (!nameRegex.test(firstName)) {
                displayErrorMessage('firstName', 'First Name must be between 3 and 20 characters and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('firstName');
            }

            // Surname validation
            var surname = document.getElementById('surname').value;
            if (!nameRegex.test(surname)) {
                displayErrorMessage('surname', 'Surname must be between 3 and 20 characters and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('surname');
            }

            // Gender validation
            var gender = document.getElementById('gender').value;
            if (gender === '') {
                displayErrorMessage('gender', 'Please select your gender.');
                isValid = false;
            } else {
                clearErrorMessage('gender');
            }

            // Address validation
            var address = document.getElementById('address').value;
            var addressRegex = /^[a-zA-Z0-9\s,]{3,50}$/;
            if (!addressRegex.test(address)) {
                displayErrorMessage('address', 'Address must be between 3 and 50 characters and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('address');
            }

            // Suburb validation
            var suburb = document.getElementById('suburb').value;
            if (!addressRegex.test(suburb)) {
                displayErrorMessage('suburb', 'Suburb must be between 3 and 50 characters and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('suburb');
            }

            // Postcode validation
            var postcode = document.getElementById('postcode').value;
            var postcodeRegex = /^\d{4}$/;
            if (!postcodeRegex.test(postcode)) {
                displayErrorMessage('postcode', 'Postcode must be exactly 4 digits.');
                isValid = false;
            } else {
                clearErrorMessage('postcode');
            }

            // State validation
            var state = document.getElementById('state').value;
            if (state === '') {
                displayErrorMessage('state', 'Please select your state.');
                isValid = false;
            } else {
                clearErrorMessage('state');
            }

            // Phone validation
            var phone = document.getElementById('phone').value;
            var phoneRegex = /^[0-9]{8,10}$/;
            if (phone && !phoneRegex.test(phone)) {
                displayErrorMessage('phone', 'Phone number must be between 8 and 10 digits and contain no special characters.');
                isValid = false;
            } else {
                clearErrorMessage('phone');
            }

            return isValid;
        }

        function clearErrorMessage(fieldId) {
            var errorElement = document.getElementById(fieldId + '-error');
            if (errorElement) {
                errorElement.innerText = '';
            }
        }

        function displayErrorMessage(fieldId, message) {
            var errorElement = document.getElementById(fieldId + '-error');
            if (!errorElement) {
                errorElement = document.createElement('div');
                errorElement.id = fieldId + '-error';
                document.getElementById(fieldId).parentNode.appendChild(errorElement);
            }
            errorElement.innerText = message;
        }
    </script>
</head>
<body>

    <div class="header">
        <img id="logo" src="Computer%20Force%20Logo.png" alt="Computer Force Logo">
    </div>

    <div class="menu-container">
        <div class="menu-items">
            <button onclick="navigateTo('index.html')">Home</button>
            <button onclick="navigateTo('products.html')">Products</button>
            <button onclick="navigateTo('Register.html')">Register</button>
            <button onclick="navigateTo('Cart.html')">Cart</button>
            <button onclick="navigateTo('About.html')">About</button>
        </div>
        <div class="search-area">
            <label for="search" class="visually-hidden">Search</label>
            <input type="text" id="search" class="search-box" placeholder="Enter search term" aria-label="Search">
            <button aria-label="Search Button">Search</button>
        </div>
    </div>

    <div class="main-container">
        <div class="main">
            <h1 id="registrationFormLabel">Registration Form</h1>
            <p>Please complete the following form to register for an account on our website.</p>
            <p><a href="Privacy%20Policy.html">Privacy Policy</a></p>

            <form action="submit_registration.php" method="post" onsubmit="return validateForm()" novalidate>
                <label for="username">Username*</label>
                <input type="text" id="username" name="username" required>
                <div id="username-error" class="error-message"></div>

                <label for="email">Email Address*</label>
                <input type="email" id="email" name="email" required>
                <div id="email-error" class="error-message"></div>

                <label for="password">Password*</label>
                <input type="password" id="password" name="password" pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,12}$" required
                    title="Password must be between 8 and 12 characters, including one letter and one number">
                <div id="password-error" class="error-message"></div>

                <label for="confirmPassword">Confirm Password*</label>
                <input type="password" id="confirmPassword" name="confirmPassword" required>
                <div id="confirmPassword-error" class="error-message"></div>

                <label for="firstName">First Name*</label>
                <input type="text" id="firstName" name="firstName" required>
                <div id="firstName-error" class="error-message"></div>

                <label for="surname">Surname*</label>
                <input type="text" id="surname" name="surname" required>
                <div id="surname-error" class="error-message"></div>

                <label for="gender">Gender*</label>
                <select id="gender" name="gender" required>
                    <option value="" disabled selected>Select your Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
                <div id="gender-error" class="error-message"></div>

                <label for="address">Address*</label>
                <input type="text" id="address" name="address" required>
                <div id="address-error" class="error-message"></div>

                <label for="suburb">Suburb*</label>
                <input type="text" id="suburb" name="suburb" required>
                <div id="suburb-error" class="error-message"></div>

                <label for="postcode">Postcode*</label>
                <input type="text" id="postcode" name="postcode" required>
                <div id="postcode-error" class="error-message"></div>

                <label for="state">State*</label>
                <select id="state" name="state" required>
                    <option value="" disabled selected>Select your state</option>
                    <option value="ACT">Australian Capital Territory (ACT)</option>
                    <option value="NSW">New South Wales (NSW)</option>
                    <option value="NT">Northern Territory (NT)</option>
                    <option value="QLD">Queensland (QLD)</option>
                    <option value="SA">South Australia (SA)</option>
                    <option value="TAS">Tasmania (TAS)</option>
                    <option value="VIC">Victoria (VIC)</option>
                    <option value="WA">Western Australia (WA)</option>
                </select>
                <div id="state-error" class="error-message"></div>

                <label for="phone">Phone number</label>
                <input type="tel" id="phone" name="phone">
                <div id="phone-error" class="error-message"></div>

                <button class="clear" type="reset" aria-label="Clear Form">Clear</button>
                <button type="submit" aria-live="polite" role="button">Register</button>
            </form>
        </div>
        <div class="aside">
            <h2>Purchases</h2>
            <div>
                <p>0 items</p>
                <p>Cart sub-total: $0</p>
            </div>
            <button onclick="navigateTo('cart.html')">Go to Checkout</button>
        </div>
    </div>

    <div class="footer">
        <p>&#169; 2024 Nicholas Booth</p>
    </div>
</body>
</html>
